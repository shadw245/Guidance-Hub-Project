<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mentorships</title>
    <link rel="stylesheet" href="/css/styling.css"> 
    <script src="/js/javascript.js" defer></script>
</head>
<body>
    <%- include('partials/nav') %>

    <section id="mentorship">
        <h2>Mentorships Programs</h2>
        <p style="text-align: center;">Find Mentorship based on your major you are interested in !!.</p>
        
      
      <div class="filter-container">
       <!-- Major Filter -->
      <div class="filter-group">
        <label for="majorSelect">Select Major:</label>
        <div class="custom-dropdown">
            <button class="dropbtn" onclick="toggleDropdown('majorDropdownContent')">Select Major</button>
            <div id="majorDropdownContent" class="dropdown-content">
                <div onclick="selectMajor('All')">All</div>
                <% Object.keys(subMajors).forEach(major => { %>
                    <div onclick="selectMajor('<%= major %>')"><%= major %></div>
                <% }) %>
            </div>
            <input type="hidden" id="majorSelect" value="All">
        </div>
    </div>

    <!-- Sub-Major Filter -->
    <div class="filter-group">
        <label for="subMajorSelect">Select Sub-Major:</label>
        <div class="custom-dropdown">
            <button class="dropbtn" onclick="toggleDropdown('dropdownContent')">Select Sub-Major</button>
            <div id="dropdownContent" class="dropdown-content">
                <div onclick="selectSubMajor('All')">All</div>
                   <% Object.values(subMajors).forEach(subMajorsArray => { %>
    <% subMajorsArray.forEach(subMajor => { %>
        <div onclick="selectSubMajor('<%= subMajor %>')"><%= subMajor %></div>
    <% }) %>
<% }) %>
            </div>
            <input type="hidden" id="subMajorSelect" value="All">
        </div>
    </div>

    <!-- Status Filter -->
    <div class="filter-group">
        <label for="statusSelect">Select Status:</label>
        <div class="custom-dropdown">
            <button class="dropbtn" onclick="toggleDropdown('statusDropdownContent')">Select Status</button>
            <div id="statusDropdownContent" class="dropdown-content">
                <div onclick="selectStatus('All')">All</div>
                <div onclick="selectStatus('Booked')">Booked</div>
                <div onclick="selectStatus('Not Booked')">Not Booked</div>
            </div>
            <input type="hidden" id="statusSelect" value="All">
        </div>
    </div>
</div>


       <!-- Mentorship Cards -->
    <div class="course-list">
        <% mentorships.forEach(mentorship => { %>
            <div class="course-card"
                 data-major="<%= mentorship.major %>"
                 data-sub-major="<%= mentorship.subMajor %>"
                 data-status="<%= mentorship.status %>">
                <img src="/pics/user.png" alt="image">
                <h5><%= mentorship.title %></h5>
                <p><%= mentorship.date %>, <%= mentorship.time %></p>
                <button class="book-button"
                        onclick="bookSession(this, '<%= mentorship.title %>', '<%= mentorship.date %>', '<%= mentorship.time %>')">
                    Book Now
                </button>
            </div>
        <% }) %>
    </div>

    <!-- Weekly Schedule -->
    <section class="calendar">
      <h2>Schedule</h2>
      <% ['monday','tuesday','wednesday','thursday','friday','saturday','sunday'].forEach(day => { %>
      <div class="day">
            <h3><%= day.charAt(0).toUpperCase() + day.slice(1) %></h3>
            <div class="session" id="<%= day %>-sessions"></div>
      </div>
    <% }) %>
    </section>

   </section>

 <%- include('partials/footer') %>
</body>
</html>
